# Building BURAI

This document explains how to build BURAI from source.

## Prerequisites

- JDK 1.8 or later (the build produces Java 1.8 compatible bytecode)
- Apache Ant 1.7 or later
- JavaFX libraries (OpenJFX)

**Note:** While newer JDK versions can be used to compile, the build targets Java 1.8 compatibility (`-source 1.8 -target 1.8`).

### Installing JavaFX on Ubuntu/Debian

```bash
sudo apt install openjfx
```

The build scripts are configured to look for JavaFX at `/usr/share/openjfx/lib/`. If you have JavaFX installed in a different location, edit `bin/build_compile.xml` and update the `path.to.fx` property.

## Build Scripts

BURAI provides two Ant build scripts:

### 1. `bin/build_compile.xml` - Main Build Script (Recommended)

This is the primary build script that handles both compilation and JAR creation.

**Available targets:**

- `compile` - Compile Java source files to `class/` directory
- `jar` - Create executable JAR file (requires compilation first)
- `build` - Compile and create JAR in one step (recommended)
- `clean` - Remove the `class/` directory

**Usage:**

```bash
# Compile and create JAR (recommended)
ant -f bin/build_compile.xml build

# Or step by step:
ant -f bin/build_compile.xml compile
ant -f bin/build_compile.xml jar

# Clean build artifacts
ant -f bin/build_compile.xml clean
```

### 2. `bin/build.xml` - JAR Creation Only

This script creates the executable JAR from pre-compiled class files. It assumes the `class/` directory already exists with compiled classes.

**Usage:**

```bash
ant -f bin/build.xml
```

**Note:** This script was originally generated by Eclipse Runnable JAR Export Wizard and has been updated to use relative paths instead of hardcoded Windows paths.

## Build Output

Both scripts create an executable JAR file:

- **Location:** `bin/burai.jar`
- **Main class:** `burai.app.QEFXMain`
- **Dependencies:** All required libraries are bundled into the JAR

## Running BURAI

After building, you can run BURAI with:

```bash
java -jar bin/burai.jar
```

## Quick Start

For first-time builds, use:

```bash
ant -f bin/build_compile.xml build
java -jar bin/burai.jar
```

## Troubleshooting

### "package javafx.scene.control does not exist"

This error means JavaFX libraries are not found. Make sure:

1. OpenJFX is installed: `sudo apt install openjfx`
2. The `path.to.fx` property in `bin/build_compile.xml` points to the correct location

### "cannot find symbol" errors

These are usually caused by:

1. Missing JavaFX libraries (see above)
2. Incorrect Java version (need JDK 1.8+)

Check your Java version:

```bash
java -version
javac -version
```

## Character Encoding

The build uses UTF-8 encoding for source files. Do not change the `source.encoding` property in `build_compile.xml` as it will cause compilation errors for Greek letters (Γ, Σ, etc.) used in the code.
